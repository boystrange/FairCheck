A(x : ?end) = x?(y).wait y.close x